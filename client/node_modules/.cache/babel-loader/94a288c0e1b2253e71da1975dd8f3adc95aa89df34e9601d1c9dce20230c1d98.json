{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import AuthenticationService from \"../../services/AuthenticationService\";\n\nexport default {\n  saveAllAddresses(context, payload) {\n    console.log(payload.ok, \"showing ok\");\n    context.commit(\"saveAllAddresses\", payload.ok);\n  },\n  async analyzeAddress(state, address) {\n    const response = await fetch(`https://api.trongrid.io/v1/accounts/${address}/transactions/trc20?limit=200&contract_address=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t`);\n    const result = await response.json();\n    const allData = result[\"data\"];\n    const toIncoming = [];\n    const fromOutgoing = [];\n    for (let i = 0; i < allData.length; i++) {\n      const allAddressInfo = allData[i];\n      const hash_id = allAddressInfo.transaction_id;\n      const rawTime = new Date(allAddressInfo.block_timestamp);\n      const time = rawTime.toLocaleString();\n      const value = allAddressInfo.value * 0.000001;\n      const from = allAddressInfo.from;\n      const to = allAddressInfo.to;\n      const addressInfo = {\n        hash: hash_id,\n        time: time,\n        amount: Math.floor(value),\n        //.toLocaleString(),\n        from: from,\n        to: to\n      };\n      const allAddresses = state.getters.getAllAddresses;\n      // console.log(allAddresses);\n      for (let i = 0; i < allAddresses.length; i++) {\n        const owner = allAddresses[i].owner;\n        addressInfo.toAlias = owner;\n      }\n      console.log(addressInfo);\n      if (value < 10) {\n        console.log(\"small value\");\n      } else if (address === to) {\n        toIncoming.push(addressInfo);\n      } else {\n        fromOutgoing.push(addressInfo);\n      }\n    }\n    const data = [toIncoming, fromOutgoing];\n    return data;\n  }\n};\n\n// const payload = {\n//   address: to\n// };\n// console.log(to, payload);\n\n// const toName = await AuthenticationService.getAddressOwner(payload);\n// console.log(toName);\n// saveAddress(context, payload) {\n//   context.commit(\"saveAddress\", payload);\n// },\n// saveAddresses(context, payload) {\n//   context.commit(\"saveAddresses\", payload);\n// },\n// async getStats(state) {\n//   const current = new Date().getTime();\n//   const aDay = 24 * 60 * 60 * 1000;\n//   const endTime = current - aDay * 30 * 2;\n//   const aMonth = aDay * 30 * 6;\n\n//   // old data - start_timestamp=1680043160&end_timestamp=1688643217\n\n//   const address = state.getters[\"getAddress\"];\n//   const link = `https://apilist.tronscanapi.com/api/transfer/trc20?address=${address}&trc20Id=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&start=0&limit=50&direction=0&reverse=true&db_version=1&start_timestamp=${aMonth}&end_timestamp=${endTime}`;\n//   const response = await (await fetch(link)).json();\n//   const transactions = response[\"data\"];\n//   const refinedTranactions = [];\n//   const outgoing = [];\n\n//   for (let i = 0; i < transactions.length; i++) {\n//     const hash = transactions[i].hash;\n//     const to = transactions[i].to;\n//     const from = transactions[i].from;\n//     const amount = transactions[i].amount * 0.000001;\n//     const rawTime = new Date(transactions[i].block_timestamp);\n//     const time = rawTime.toLocaleString();\n\n//     if (amount < 10) {\n//       console.log(\"small one\");\n//     } else if (from === address) {\n//       const transaction = {\n//         from: from,\n//         to: to,\n//         amount: amount,\n//         time: time,\n//         hash: hash,\n//       };\n//       outgoing.push(transaction);\n//     } else {\n//       const transaction = {\n//         from: from,\n//         to: to,\n//         amount: amount,\n//         time: time,\n//         hash: hash,\n//       };\n//       refinedTranactions.push(transaction);\n//     }\n//   }\n//   console.log(refinedTranactions);\n//   console.log(outgoing);\n\n//   const incomingOutgoing = [refinedTranactions, outgoing];\n\n//   return incomingOutgoing;\n//   // context.commit(\"saveData\", refinedTranactions);\n//   // console.log(context.commit);\n// },\n\n// TYWyTnSG7fVQtxL1NDyiLTeUpPUzhMWFfA\n\n// const sdk = require('api')('@tron/v4.7.2#17d20r2ql9cidams');\n\n// sdk.getTransactionInfoByAccountAddress({address: 'TXXp6EZsnQMBxfCaRkv9HgNEmX56UU6WKD'})\n// .then(({ data }) => console.log(data))\n// .catch(err => console.error(err));\n\n//\n// console.log(address);\n\n// const axios = require(\"axios\");\n\n// const data = [];\n\n// axios\n//   .get(\n//     `https://api.trongrid.io/v1/accounts/${address}/transactions/trc20?limit=200&contract_address=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t`\n//   )\n//   .then((response) => {\n//     const toIncoming = [];\n//     const fromOutgoing = [];\n//     const info = response.data.data;\n//     for (let i = 0; i < info.length; i++) {\n//       const allAddressInfo = info[i];\n//       const hash_id = allAddressInfo.transaction_id;\n//       const time = allAddressInfo.block_timestamp;\n//       const value = allAddressInfo.value;\n//       const from = allAddressInfo.from;\n//       const to = allAddressInfo.to;\n\n//       const addressInfo = {\n//         hash: hash_id,\n//         time: time,\n//         value: value,\n//         from: from,\n//         to: to,\n//       };\n//       // data.push(addressInfo);\n//       // console.log(addressInfo);\n\n//       if(address === to) {\n//         toIncoming.push(addressInfo);\n//       } else {\n//         fromOutgoing.push(addressInfo);\n//       }\n//     }\n//     // console.log(toIncoming);\n//     // console.log(state.commit);\n//     context.commit('saveNewData', toIncoming);\n//     // data.push(toIncoming);\n//     // data.push(fromOutgoing);\n//   })\n//   .catch((error) => {\n//     console.error(error);\n//   });\n\n//   return data;","map":{"version":3,"names":["saveAllAddresses","context","payload","console","log","ok","commit","analyzeAddress","state","address","response","fetch","result","json","allData","toIncoming","fromOutgoing","i","length","allAddressInfo","hash_id","transaction_id","rawTime","Date","block_timestamp","time","toLocaleString","value","from","to","addressInfo","hash","amount","Math","floor","allAddresses","getters","getAllAddresses","owner","toAlias","push","data"],"sources":["/Users/cryptoprezzy/Desktop/Development/real/TRON Scraper/client/src/stores/primaryStats/actions.js"],"sourcesContent":["// import AuthenticationService from \"../../services/AuthenticationService\";\n\nexport default {\n  saveAllAddresses(context, payload) {\n    console.log(payload.ok, \"showing ok\");\n\n    context.commit(\"saveAllAddresses\", payload.ok);\n  },\n  async analyzeAddress(state, address) {\n\n\n    const response = await fetch(\n      `https://api.trongrid.io/v1/accounts/${address}/transactions/trc20?limit=200&contract_address=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t`\n    );\n    const result = await response.json();\n    const allData = result[\"data\"];\n\n    const toIncoming = [];\n    const fromOutgoing = [];\n    for (let i = 0; i < allData.length; i++) {\n      const allAddressInfo = allData[i];\n      const hash_id = allAddressInfo.transaction_id;\n      const rawTime = new Date(allAddressInfo.block_timestamp);\n      const time = rawTime.toLocaleString();\n      const value = allAddressInfo.value * 0.000001;\n      const from = allAddressInfo.from;\n      const to = allAddressInfo.to;\n\n\n      \n\n      const addressInfo = {\n        hash: hash_id,\n        time: time,\n        amount: Math.floor(value), //.toLocaleString(),\n        from: from,\n        to: to,\n      };\n\n      const allAddresses = state.getters.getAllAddresses;\n      // console.log(allAddresses);\n      for (let i = 0; i < allAddresses.length; i++){\n        const owner = allAddresses[i].owner;\n         addressInfo.toAlias = owner;\n      }  \n\n      console.log(addressInfo);\n      \n      if (value < 10) {\n        console.log(\"small value\");\n      } else if (address === to) {\n        toIncoming.push(addressInfo);\n      } else {\n        fromOutgoing.push(addressInfo);\n      }\n    }\n    const data = [toIncoming, fromOutgoing];\n    return data;\n  },\n};\n\n// const payload = {\n//   address: to\n// };\n// console.log(to, payload);\n\n// const toName = await AuthenticationService.getAddressOwner(payload);\n// console.log(toName);\n// saveAddress(context, payload) {\n//   context.commit(\"saveAddress\", payload);\n// },\n// saveAddresses(context, payload) {\n//   context.commit(\"saveAddresses\", payload);\n// },\n// async getStats(state) {\n//   const current = new Date().getTime();\n//   const aDay = 24 * 60 * 60 * 1000;\n//   const endTime = current - aDay * 30 * 2;\n//   const aMonth = aDay * 30 * 6;\n\n//   // old data - start_timestamp=1680043160&end_timestamp=1688643217\n\n//   const address = state.getters[\"getAddress\"];\n//   const link = `https://apilist.tronscanapi.com/api/transfer/trc20?address=${address}&trc20Id=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&start=0&limit=50&direction=0&reverse=true&db_version=1&start_timestamp=${aMonth}&end_timestamp=${endTime}`;\n//   const response = await (await fetch(link)).json();\n//   const transactions = response[\"data\"];\n//   const refinedTranactions = [];\n//   const outgoing = [];\n\n//   for (let i = 0; i < transactions.length; i++) {\n//     const hash = transactions[i].hash;\n//     const to = transactions[i].to;\n//     const from = transactions[i].from;\n//     const amount = transactions[i].amount * 0.000001;\n//     const rawTime = new Date(transactions[i].block_timestamp);\n//     const time = rawTime.toLocaleString();\n\n//     if (amount < 10) {\n//       console.log(\"small one\");\n//     } else if (from === address) {\n//       const transaction = {\n//         from: from,\n//         to: to,\n//         amount: amount,\n//         time: time,\n//         hash: hash,\n//       };\n//       outgoing.push(transaction);\n//     } else {\n//       const transaction = {\n//         from: from,\n//         to: to,\n//         amount: amount,\n//         time: time,\n//         hash: hash,\n//       };\n//       refinedTranactions.push(transaction);\n//     }\n//   }\n//   console.log(refinedTranactions);\n//   console.log(outgoing);\n\n//   const incomingOutgoing = [refinedTranactions, outgoing];\n\n//   return incomingOutgoing;\n//   // context.commit(\"saveData\", refinedTranactions);\n//   // console.log(context.commit);\n// },\n\n// TYWyTnSG7fVQtxL1NDyiLTeUpPUzhMWFfA\n\n// const sdk = require('api')('@tron/v4.7.2#17d20r2ql9cidams');\n\n// sdk.getTransactionInfoByAccountAddress({address: 'TXXp6EZsnQMBxfCaRkv9HgNEmX56UU6WKD'})\n// .then(({ data }) => console.log(data))\n// .catch(err => console.error(err));\n\n//\n// console.log(address);\n\n// const axios = require(\"axios\");\n\n// const data = [];\n\n// axios\n//   .get(\n//     `https://api.trongrid.io/v1/accounts/${address}/transactions/trc20?limit=200&contract_address=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t`\n//   )\n//   .then((response) => {\n//     const toIncoming = [];\n//     const fromOutgoing = [];\n//     const info = response.data.data;\n//     for (let i = 0; i < info.length; i++) {\n//       const allAddressInfo = info[i];\n//       const hash_id = allAddressInfo.transaction_id;\n//       const time = allAddressInfo.block_timestamp;\n//       const value = allAddressInfo.value;\n//       const from = allAddressInfo.from;\n//       const to = allAddressInfo.to;\n\n//       const addressInfo = {\n//         hash: hash_id,\n//         time: time,\n//         value: value,\n//         from: from,\n//         to: to,\n//       };\n//       // data.push(addressInfo);\n//       // console.log(addressInfo);\n\n//       if(address === to) {\n//         toIncoming.push(addressInfo);\n//       } else {\n//         fromOutgoing.push(addressInfo);\n//       }\n//     }\n//     // console.log(toIncoming);\n//     // console.log(state.commit);\n//     context.commit('saveNewData', toIncoming);\n//     // data.push(toIncoming);\n//     // data.push(fromOutgoing);\n//   })\n//   .catch((error) => {\n//     console.error(error);\n//   });\n\n//   return data;\n"],"mappings":";AAAA;;AAEA,eAAe;EACbA,gBAAgBA,CAACC,OAAO,EAAEC,OAAO,EAAE;IACjCC,OAAO,CAACC,GAAG,CAACF,OAAO,CAACG,EAAE,EAAE,YAAY,CAAC;IAErCJ,OAAO,CAACK,MAAM,CAAC,kBAAkB,EAAEJ,OAAO,CAACG,EAAE,CAAC;EAChD,CAAC;EACD,MAAME,cAAcA,CAACC,KAAK,EAAEC,OAAO,EAAE;IAGnC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,uCAAsCF,OAAQ,mFACjD,CAAC;IACD,MAAMG,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACpC,MAAMC,OAAO,GAAGF,MAAM,CAAC,MAAM,CAAC;IAE9B,MAAMG,UAAU,GAAG,EAAE;IACrB,MAAMC,YAAY,GAAG,EAAE;IACvB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,OAAO,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,MAAME,cAAc,GAAGL,OAAO,CAACG,CAAC,CAAC;MACjC,MAAMG,OAAO,GAAGD,cAAc,CAACE,cAAc;MAC7C,MAAMC,OAAO,GAAG,IAAIC,IAAI,CAACJ,cAAc,CAACK,eAAe,CAAC;MACxD,MAAMC,IAAI,GAAGH,OAAO,CAACI,cAAc,CAAC,CAAC;MACrC,MAAMC,KAAK,GAAGR,cAAc,CAACQ,KAAK,GAAG,QAAQ;MAC7C,MAAMC,IAAI,GAAGT,cAAc,CAACS,IAAI;MAChC,MAAMC,EAAE,GAAGV,cAAc,CAACU,EAAE;MAK5B,MAAMC,WAAW,GAAG;QAClBC,IAAI,EAAEX,OAAO;QACbK,IAAI,EAAEA,IAAI;QACVO,MAAM,EAAEC,IAAI,CAACC,KAAK,CAACP,KAAK,CAAC;QAAE;QAC3BC,IAAI,EAAEA,IAAI;QACVC,EAAE,EAAEA;MACN,CAAC;MAED,MAAMM,YAAY,GAAG3B,KAAK,CAAC4B,OAAO,CAACC,eAAe;MAClD;MACA,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkB,YAAY,CAACjB,MAAM,EAAED,CAAC,EAAE,EAAC;QAC3C,MAAMqB,KAAK,GAAGH,YAAY,CAAClB,CAAC,CAAC,CAACqB,KAAK;QAClCR,WAAW,CAACS,OAAO,GAAGD,KAAK;MAC9B;MAEAnC,OAAO,CAACC,GAAG,CAAC0B,WAAW,CAAC;MAExB,IAAIH,KAAK,GAAG,EAAE,EAAE;QACdxB,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC5B,CAAC,MAAM,IAAIK,OAAO,KAAKoB,EAAE,EAAE;QACzBd,UAAU,CAACyB,IAAI,CAACV,WAAW,CAAC;MAC9B,CAAC,MAAM;QACLd,YAAY,CAACwB,IAAI,CAACV,WAAW,CAAC;MAChC;IACF;IACA,MAAMW,IAAI,GAAG,CAAC1B,UAAU,EAAEC,YAAY,CAAC;IACvC,OAAOyB,IAAI;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}